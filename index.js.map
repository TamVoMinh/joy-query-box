{"version":3,"sources":["webpack://joy-query-box/webpack/bootstrap","webpack://joy-query-box/./node_modules/prop-types/index.js","webpack://joy-query-box/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://joy-query-box/external {\"root\":\"pegjs\",\"commonjs\":\"pegjs\",\"commonjs2\":\"pegjs\",\"amd\":\"pegjs\"}","webpack://joy-query-box/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://joy-query-box/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://joy-query-box/external {\"root\":\"brace\",\"commonjs\":\"brace\",\"commonjs2\":\"brace\",\"amd\":\"brace\"}","webpack://joy-query-box/./node_modules/brace/theme/tomorrow.js","webpack://joy-query-box/./node_modules/brace/snippets/text.js","webpack://joy-query-box/./node_modules/brace/ext/language_tools.js","webpack://joy-query-box/./src/simpleQuery.mode.js","webpack://joy-query-box/./src/index.jsx","webpack://joy-query-box/./src/gramma.pegjs"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","ace","define","acequire","isDark","cssClass","cssText","importCssString","e","snippetText","undefined","scope","oop","EventEmitter","lang","Range","Anchor","HashHandler","Tokenizer","comparePoints","SnippetManager","this","snippetMap","snippetNameMap","implement","getTokenizer","TabstopToken","str","_","stack","substr","test","inFormatString","tabstopId","parseInt","text","escape","ch","$tokenizer","start","regex","onMatch","val","state","length","expectIf","elseBranch","indexOf","changeCase","local","shift","unshift","next","token","merge","snippetVar","choices","slice","split","ts","fmtString","splitRegex","exec","guard","fmt","flag","code","splice","formatString","tokenizeTmSnippet","startState","getLineTokens","tokens","map","x","$getDefaultValue","editor","variables","__","replace","session","getWordRange","getTextRange","getLine","getCursorPosition","row","column","getUseSoftTabs","getTabSize","getVariableValue","varName","tmStrFormat","re","RegExp","fmtTokens","_self","formatted","arguments","fmtParts","resolveVariables","gChangeCase","toUpperCase","toLowerCase","join","snippet","result","push","skip","gotoNext","processed","i1","insertSnippetForSelection","cursor","line","tabString","getTabString","indentString","match","tabstops","forEach","id","index","some","expanding","copyValue","copy","lastIndexOf","arg","Math","max","apply","lines","end","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","selection","addTabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","$mode","$id","pop","inlinePhp","getState","substring","getActiveScopes","scopes","includeScopes","expandWithTab","options","expandSnippetForSelection","before","after","snippets","findMatchingSnippet","dryRun","doc","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","content","snippetList","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","tabTrigger","trigger","escapeRegExp","endTrigger","endGuard","Array","isArray","_signal","removeSnippet","nameMap","parseSnippetFile","list","JSON","parse","guardRe","getSnippetByName","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","ranges","$openTabstops","selectedTabstop","on","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","removeListener","removeKeyboardHandler","delta","isRemove","action","startRow","lineDif","colDiff","$inChange","removeRange","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","snippetManager","original","command","readOnly","lead","anchor","isEmpty","containsLead","contains","containsAnchor","dir","min","selectTabstop","addTabstopMarkers","setRange","sel","multiSelect","toSingleRange","clone","addRange","fromPoints","moveRelative","dest","movePoint","tabstop","markerId","addMarker","removeMarker","bindKeys","ed","changeTracker","setPosition","pos","update","$insertRight","point","diff","Editor","expandSnippet","Renderer","VirtualRenderer","event","dom","$singleLineEditor","el","renderer","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusWaitTimout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","setStyle","setOption","lastMouseEvent","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","highlight","$searchHighlight","clazz","getDocumentPosition","moveToPosition","selectionMarker","stop","hoverMarker","Infinity","setSelectOnHover","y","scrollTop","setRow","setHoverMarker","$pos","getRow","$textLayer","selected","childNodes","config","firstRow","selectedNode","removeCssClass","addCssClass","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","getLength","data","bgTokenizer","$tokenizeRow","caption","last","matchMask","type","className","meta","maxW","$size","scrollerWidth","layerConfig","characterWidth","metaData","$updateOnChange","$computeWidth","screenWidth","$blockScrolling","isOpen","isTopdown","autoSelect","setData","setValue","stringRepeat","getData","clearSelection","moveCursorTo","scrollCursorIntoView","hide","show","lineHeight","topdownOnly","screenHeight","window","innerHeight","innerWidth","maxH","top","$borderSize","$maxPixelHeight","bottom","checkForSizeChanges","left","offsetWidth","getTextLeftOffset","$padding","$imageSize","parForEach","fn","callback","completed","arLength","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","prefix","completers","completer","identifierRegexps","identifierRegex","util","Autocomplete","autoInsert","exactMatch","gatherCompletionsId","blurListener","changeListener","mousedownListener","mousewheelListener","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","$init","document","body","documentElement","insertMatch","getPopup","openPopup","keepPopupPosition","completions","filtered","setTheme","getTheme","setFontSize","getFontSize","getPixelPosition","base","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","off","cancel","hideDocTooltip","activated","activeElement","textInput","getElement","fromTooltip","relatedTarget","tooltipNode","goTo","where","filterText","getAllRanges","remove","execCommand","deleteSuffix","gotoPageUp","gotoPageDown","gatherCompletions","getSession","createAnchor","matches","total","getCompletions","results","concat","finished","showPopup","setFilter","_id","detachIfFinished","FilteredList","cancelContextMenu","all","getDocTooltip","docText","docHTML","showDocTooltip","item","margin","pointerEvents","tabIndex","onblur","onclick","onTooltipClick","innerHTML","textContent","right","isFocused","removeChild","a","target","nodeName","href","rel","startCommand","bindKey","filterCompletions","sort","b","score","prev","filter","items","needle","upper","lower","loop","distance","lastIndex","penalty","j","i2","wordDistance","prefixPos","getWordIndex","words","getValue","wordScores","currentWord","word","idx","abs","wordScore","keys","textCompleter","keyWordCompleter","snippetCompleter","escapeHTML","setCompleters","addCompleter","onChangeMode","loadSnippetsForMode","files","loadSnippetFile","modes","snippetFilePath","loadModule","doLiveAutocomplete","hasCompleter","defineOptions","enableBasicAutocompletion","set","addCommand","removeCommand","enableLiveAutocompletion","enableSnippets","SimpleQueryRules","keywordMapper","createKeywordMapper","$rules","normalizeRules","TextHighlightRules","SimpleQueryMode","HighlightRules","Mode","baseSuggestion","pegparser","PEG","QueryBox","suggesions","__editorId","Date","now","toString","__editor","parsed","freetext","trim","onSearch","aceEditor","React","createRef","inputClassName","ref","editorId","edit","current","customCompleter","desc","setOptions","maxLines","autoScrollEditorIntoView","highlightActiveLine","printMargin","showGutter","theme","fontSize","mac","win","hanleQueryChange","setMode","queryText","PureComponent"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = require(\"react\");","module.exports = require(\"pegjs\");","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = require(\"brace\");","ace.define(\"ace/theme/tomorrow\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\nexports.isDark = false;\nexports.cssClass = \"ace-tomorrow\";\nexports.cssText = \".ace-tomorrow .ace_gutter {\\\nbackground: #f6f6f6;\\\ncolor: #4D4D4C\\\n}\\\n.ace-tomorrow .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #f6f6f6\\\n}\\\n.ace-tomorrow {\\\nbackground-color: #FFFFFF;\\\ncolor: #4D4D4C\\\n}\\\n.ace-tomorrow .ace_cursor {\\\ncolor: #AEAFAD\\\n}\\\n.ace-tomorrow .ace_marker-layer .ace_selection {\\\nbackground: #D6D6D6\\\n}\\\n.ace-tomorrow.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px #FFFFFF;\\\n}\\\n.ace-tomorrow .ace_marker-layer .ace_step {\\\nbackground: rgb(255, 255, 0)\\\n}\\\n.ace-tomorrow .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid #D1D1D1\\\n}\\\n.ace-tomorrow .ace_marker-layer .ace_active-line {\\\nbackground: #EFEFEF\\\n}\\\n.ace-tomorrow .ace_gutter-active-line {\\\nbackground-color : #dcdcdc\\\n}\\\n.ace-tomorrow .ace_marker-layer .ace_selected-word {\\\nborder: 1px solid #D6D6D6\\\n}\\\n.ace-tomorrow .ace_invisible {\\\ncolor: #D1D1D1\\\n}\\\n.ace-tomorrow .ace_keyword,\\\n.ace-tomorrow .ace_meta,\\\n.ace-tomorrow .ace_storage,\\\n.ace-tomorrow .ace_storage.ace_type,\\\n.ace-tomorrow .ace_support.ace_type {\\\ncolor: #8959A8\\\n}\\\n.ace-tomorrow .ace_keyword.ace_operator {\\\ncolor: #3E999F\\\n}\\\n.ace-tomorrow .ace_constant.ace_character,\\\n.ace-tomorrow .ace_constant.ace_language,\\\n.ace-tomorrow .ace_constant.ace_numeric,\\\n.ace-tomorrow .ace_keyword.ace_other.ace_unit,\\\n.ace-tomorrow .ace_support.ace_constant,\\\n.ace-tomorrow .ace_variable.ace_parameter {\\\ncolor: #F5871F\\\n}\\\n.ace-tomorrow .ace_constant.ace_other {\\\ncolor: #666969\\\n}\\\n.ace-tomorrow .ace_invalid {\\\ncolor: #FFFFFF;\\\nbackground-color: #C82829\\\n}\\\n.ace-tomorrow .ace_invalid.ace_deprecated {\\\ncolor: #FFFFFF;\\\nbackground-color: #8959A8\\\n}\\\n.ace-tomorrow .ace_fold {\\\nbackground-color: #4271AE;\\\nborder-color: #4D4D4C\\\n}\\\n.ace-tomorrow .ace_entity.ace_name.ace_function,\\\n.ace-tomorrow .ace_support.ace_function,\\\n.ace-tomorrow .ace_variable {\\\ncolor: #4271AE\\\n}\\\n.ace-tomorrow .ace_support.ace_class,\\\n.ace-tomorrow .ace_support.ace_type {\\\ncolor: #C99E00\\\n}\\\n.ace-tomorrow .ace_heading,\\\n.ace-tomorrow .ace_markup.ace_heading,\\\n.ace-tomorrow .ace_string {\\\ncolor: #718C00\\\n}\\\n.ace-tomorrow .ace_entity.ace_name.ace_tag,\\\n.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,\\\n.ace-tomorrow .ace_meta.ace_tag,\\\n.ace-tomorrow .ace_string.ace_regexp,\\\n.ace-tomorrow .ace_variable {\\\ncolor: #C82829\\\n}\\\n.ace-tomorrow .ace_comment {\\\ncolor: #8E908C\\\n}\\\n.ace-tomorrow .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y\\\n}\";\n\nvar dom = acequire(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n","ace.define(\"ace/snippets/text\",[\"require\",\"exports\",\"module\"],function(e,t,n){\"use strict\";t.snippetText=undefined,t.scope=\"text\"})","ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/anchor\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/lib/dom\",\"ace/editor\"], function(acequire, exports, module) {\n\"use strict\";\nvar oop = acequire(\"./lib/oop\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar lang = acequire(\"./lib/lang\");\nvar Range = acequire(\"./range\").Range;\nvar Anchor = acequire(\"./anchor\").Anchor;\nvar HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = acequire(\"./tokenizer\").Tokenizer;\nvar comparePoints = Range.comparePoints;\n\nvar SnippetManager = function() {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    \n    this.getTokenizer = function() {\n        function TabstopToken(str, _, stack) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str) && !stack.inFormatString)\n                return [{tabstopId: parseInt(str, 10)}];\n            return [{text: str}];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                {regex: /:/, onMatch: function(val, state, stack) {\n                    if (stack.length && stack[0].expectIf) {\n                        stack[0].expectIf = false;\n                        stack[0].elseBranch = stack[0];\n                        return [stack[0]];\n                    }\n                    return \":\";\n                }},\n                {regex: /\\\\./, onMatch: function(val, state, stack) {\n                    var ch = val[1];\n                    if (ch == \"}\" && stack.length) {\n                        val = ch;\n                    }else if (\"`$\\\\\".indexOf(ch) != -1) {\n                        val = ch;\n                    } else if (stack.inFormatString) {\n                        if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\n\";\n                        else if (\"ulULE\".indexOf(ch) != -1) {\n                            val = {changeCase: ch, local: ch > \"a\"};\n                        }\n                    }\n\n                    return [val];\n                }},\n                {regex: /}/, onMatch: function(val, state, stack) {\n                    return [stack.length ? stack.shift() : val];\n                }},\n                {regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken},\n                {regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function(str, state, stack) {\n                    var t = TabstopToken(str.substr(1), state, stack);\n                    stack.unshift(t[0]);\n                    return t;\n                }, next: \"snippetVar\"},\n                {regex: /\\n/, token: \"newline\", merge: false}\n            ],\n            snippetVar: [\n                {regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function(val, state, stack) {\n                    stack[0].choices = val.slice(1, -1).split(\",\");\n                }, next: \"start\"},\n                {regex: \"/(\" + escape(\"/\") + \"+)/(?:(\" + escape(\"/\") + \"*)/)(\\\\w*):?\",\n                 onMatch: function(val, state, stack) {\n                    var ts = stack[0];\n                    ts.fmtString = val;\n\n                    val = this.splitRegex.exec(val);\n                    ts.guard = val[1];\n                    ts.fmt = val[2];\n                    ts.flag = val[3];\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"`\" + escape(\"`\") + \"*`\", onMatch: function(val, state, stack) {\n                    stack[0].code = val.splice(1, -1);\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"\\\\?\", onMatch: function(val, state, stack) {\n                    if (stack[0])\n                        stack[0].expectIf = true;\n                }, next: \"start\"},\n                {regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\"}\n            ],\n            formatString: [\n                {regex: \"/(\" + escape(\"/\") + \"+)/\", token: \"regex\"},\n                {regex: \"\", onMatch: function(val, state, stack) {\n                    stack.inFormatString = true;\n                }, next: \"start\"}\n            ]\n        });\n        SnippetManager.prototype.getTokenizer = function() {\n            return SnippetManager.$tokenizer;\n        };\n        return SnippetManager.$tokenizer;\n    };\n\n    this.tokenizeTmSnippet = function(str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {\n            return x.value || x;\n        });\n    };\n\n    this.$getDefaultValue = function(editor, name) {\n        if (/^[A-Z]\\d+$/.test(name)) {\n            var i = name.substr(1);\n            return (this.variables[name[0] + \"__\"] || {})[i];\n        }\n        if (/^\\d+$/.test(name)) {\n            return (this.variables.__ || {})[name];\n        }\n        name = name.replace(/^TM_/, \"\");\n\n        if (!editor)\n            return;\n        var s = editor.session;\n        switch(name) {\n            case \"CURRENT_WORD\":\n                var r = s.getWordRange();\n            case \"SELECTION\":\n            case \"SELECTED_TEXT\":\n                return s.getTextRange(r);\n            case \"CURRENT_LINE\":\n                return s.getLine(editor.getCursorPosition().row);\n            case \"PREV_LINE\": // not possible in textmate\n                return s.getLine(editor.getCursorPosition().row - 1);\n            case \"LINE_INDEX\":\n                return editor.getCursorPosition().column;\n            case \"LINE_NUMBER\":\n                return editor.getCursorPosition().row + 1;\n            case \"SOFT_TABS\":\n                return s.getUseSoftTabs() ? \"YES\" : \"NO\";\n            case \"TAB_SIZE\":\n                return s.getTabSize();\n            case \"FILENAME\":\n            case \"FILEPATH\":\n                return \"\";\n            case \"FULLNAME\":\n                return \"Ace\";\n        }\n    };\n    this.variables = {};\n    this.getVariableValue = function(editor, varName) {\n        if (this.variables.hasOwnProperty(varName))\n            return this.variables[varName](editor, varName) || \"\";\n        return this.$getDefaultValue(editor, varName) || \"\";\n    };\n    this.tmStrFormat = function(str, ch, editor) {\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gi]/, \"\"));\n        var fmtTokens = this.tokenizeTmSnippet(ch.fmt, \"formatString\");\n        var _self = this;\n        var formatted = str.replace(re, function() {\n            _self.variables.__ = arguments;\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i  = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    } else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                } else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                } else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            return fmtParts.join(\"\");\n        });\n        this.variables.__ = null;\n        return formatted;\n    };\n\n    this.resolveVariables = function(snippet, editor) {\n        var result = [];\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n            } else if (typeof ch != \"object\") {\n                continue;\n            } else if (ch.skip) {\n                gotoNext(ch);\n            } else if (ch.processed < i) {\n                continue;\n            } else if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text);\n                if (value && ch.fmtString)\n                    value = this.tmStrFormat(value, ch);\n                ch.processed = i;\n                if (ch.expectIf == null) {\n                    if (value) {\n                        result.push(value);\n                        gotoNext(ch);\n                    }\n                } else {\n                    if (value) {\n                        ch.skip = ch.elseBranch;\n                    } else\n                        gotoNext(ch);\n                }\n            } else if (ch.tabstopId != null) {\n                result.push(ch);\n            } else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n\n    this.insertSnippetForSelection = function(editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        \n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function(x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function(p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function(t) {return typeof t === \"object\";});\n            if (isNested && !ts.value) {\n                ts.value = value;\n            } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function(ts) {ts.length = 0;});\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || {tabstopId: p.tabstopId};\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p)\n                    expanding[id] = null;\n                continue;\n            }\n            \n            var ts = tabstops[id];\n            var arg = typeof ts.value == \"string\" ? [ts.value] : copyValue(ts.value);\n            arg.unshift(i + 1, Math.max(0, i1 - i));\n            arg.push(p);\n            expanding[id] = p;\n            tokens.splice.apply(tokens, arg);\n\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function(t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1){\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                } else\n                    column += t.length;\n                text += t;\n            } else {\n                if (!t.start)\n                    t.start = {row: row, column: column};\n                else\n                    t.end = {row: row, column: column};\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    \n    this.insertSnippet = function(editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        \n        editor.forEachSelection(function() {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, {keepOrder: true});\n        \n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n\n    this.$getScope = function(editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp) \n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        \n        return scope;\n    };\n\n    this.getActiveScopes = function(editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n\n    this.expandWithTab = function(editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function() {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, {keepOrder: true});\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    \n    this.expandSnippetForSelection = function(editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row,\n            cursor.column - snippet.replaceBefore.length,\n            cursor.column + snippet.replaceAfter.length\n        );\n\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n\n    this.findMatchingSnippet = function(snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        \n        if (!snippets) \n            snippets = [];\n        \n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            } else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            \n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            \n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger, \"\", true);\n\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger, \"\", true);\n        }\n\n        if (snippets && snippets.content)\n            addSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(addSnippet);\n        \n        this._signal(\"registerSnippets\", {scope: scope});\n    };\n    this.unregister = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope||scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope||scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function(str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                } catch (e) {}\n            } if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            } else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                } else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                } else {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function(name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n\n}).call(SnippetManager.prototype);\n\n\nvar TabstopManager = function(editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function() {\n    this.attach = function(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function() {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n\n    this.onChange = function(delta) {\n        var changeRange = delta;\n        var isRemove = delta.action[0] == \"r\";\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n        var colDiff = end.column - start.column;\n\n        if (isRemove) {\n            lineDif = -lineDif;\n            colDiff = -colDiff;\n        }\n        if (!this.$inChange && isRemove) {\n            var ts = this.selectedTabstop;\n            var changedOutside = ts && !ts.some(function(r) {\n                return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;\n            });\n            if (changedOutside)\n                return this.detach();\n        }\n        var ranges = this.ranges;\n        for (var i = 0; i < ranges.length; i++) {\n            var r = ranges[i];\n            if (r.end.row < start.row)\n                continue;\n\n            if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {\n                this.removeRange(r);\n                i--;\n                continue;\n            }\n\n            if (r.start.row == startRow && r.start.column > start.column)\n                r.start.column += colDiff;\n            if (r.end.row == startRow && r.end.column >= start.column)\n                r.end.column += colDiff;\n            if (r.start.row >= startRow)\n                r.start.row += lineDif;\n            if (r.end.row >= startRow)\n                r.end.row += lineDif;\n\n            if (comparePoints(r.start, r.end) > 0)\n                this.removeRange(r);\n        }\n        if (!ranges.length)\n            this.detach();\n    };\n    this.updateLinkedFields = function() {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = ts.length; i--;) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var fmt = exports.snippetManager.tmStrFormat(text, range.original);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function(e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function() {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = this.ranges.length; i--;) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function() {\n        this.detach();\n    };\n    this.tabNext = function(dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function(index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        \n        this.selectedTabstop = ts;\n        if (!this.editor.inVirtualSelectionMode) {        \n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(ts.firstNonLinked.clone());\n            for (var i = ts.length; i--;) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n            if (sel.ranges[0])\n                sel.addRange(sel.ranges[0].clone());\n        } else {\n            this.editor.selection.setRange(ts.firstNonLinked);\n        }\n        \n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.addTabstops = function(tabstops, start, end) {\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function(ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n                \n            for (var i = ts.length; i--;) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                } else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n        }, this);\n        \n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n\n    this.addTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            if  (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function(range) {\n        var i = range.tabstop.indexOf(range);\n        range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        this.ranges.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function(ed) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {\n                return;\n            }\n\n            ed.tabstopManager.tabNext(1);\n        },\n        \"Shift-Tab\": function(ed) {\n            ed.tabstopManager.tabNext(-1);\n        },\n        \"Esc\": function(ed) {\n            ed.tabstopManager.detach();\n        },\n        \"Return\": function(ed) {\n            return false;\n        }\n    });\n}).call(TabstopManager.prototype);\n\n\n\nvar changeTracker = {};\nchangeTracker.onChange = Anchor.prototype.onChange;\nchangeTracker.setPosition = function(row, column) {\n    this.pos.row = row;\n    this.pos.column = column;\n};\nchangeTracker.update = function(pos, delta, $insertRight) {\n    this.$insertRight = $insertRight;\n    this.pos = pos; \n    this.onChange(delta);\n};\n\nvar movePoint = function(point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\n\nvar moveRelative = function(point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\n\n\nacequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\nexports.snippetManager = new SnippetManager();\n\n\nvar Editor = acequire(\"./editor\").Editor;\n(function() {\n    this.insertSnippet = function(content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function(options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Renderer = acequire(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = acequire(\"../editor\").Editor;\nvar Range = acequire(\"../range\").Range;\nvar event = acequire(\"../lib/event\");\nvar lang = acequire(\"../lib/lang\");\nvar dom = acequire(\"../lib/dom\");\n\nvar $singleLineEditor = function(el) {\n    var renderer = new Renderer(el);\n\n    renderer.$maxLines = 4;\n\n    var editor = new Editor(renderer);\n\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n\n    editor.$mouseHandler.$focusWaitTimout = 0;\n    editor.$highlightTagPending = true;\n\n    return editor;\n};\n\nvar AcePopup = function(parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n\n    if (parentNode)\n        parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n\n    var noop = function(){};\n\n    popup.focus = noop;\n    popup.$isFocused = true;\n\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n\n    popup.on(\"mousedown\", function(e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n    });\n\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1,0,-1,Infinity);\n    var selectionMarker = new Range(-1,0,-1,Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function(val) {\n        if (!val) {\n            hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n            popup.session.removeMarker(hoverMarker.id);\n            hoverMarker.id = null;\n        }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function(e) {\n        if (!lastMouseEvent) {\n            lastMouseEvent = e;\n            return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n            return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row);\n        }\n    });\n    popup.renderer.on(\"beforeRender\", function() {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n            lastMouseEvent.$pos = null;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row, true);\n        }\n    });\n    popup.renderer.on(\"afterRender\", function() {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = t.element.childNodes[row - t.config.firstRow];\n        if (selected == t.selectedNode)\n            return;\n        if (t.selectedNode)\n            dom.removeCssClass(t.selectedNode, \"ace_selected\");\n        t.selectedNode = selected;\n        if (selected)\n            dom.addCssClass(selected, \"ace_selected\");\n    });\n    var hideHoverMarker = function() { setHoverMarker(-1); };\n    var setHoverMarker = function(row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n            hoverMarker.start.row = hoverMarker.end.row = row;\n            if (!suppressRedraw)\n                popup.session._emit(\"changeBackMarker\");\n            popup._emit(\"changeHoverMarker\");\n        }\n    };\n    popup.getHoveredRow = function() {\n        return hoverMarker.start.row;\n    };\n\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n\n    popup.session.doc.getLength = function() {\n        return popup.data.length;\n    };\n    popup.session.doc.getLine = function(i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\")\n            return data;\n        return (data && data.value) || \"\";\n    };\n\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function(row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data)\n            return tokens;\n        if (typeof data == \"string\")\n            data = {value: data};\n        if (!data.caption)\n            data.caption = data.value || data.name;\n\n        var last = -1;\n        var flag, c;\n        for (var i = 0; i < data.caption.length; i++) {\n            c = data.caption[i];\n            flag = data.matchMask & (1 << i) ? 1 : 0;\n            if (last !== flag) {\n                tokens.push({type: data.className || \"\" + ( flag ? \"completion-highlight\" : \"\"), value: c});\n                last = flag;\n            } else {\n                tokens[tokens.length - 1].value += c;\n            }\n        }\n\n        if (data.meta) {\n            var maxW = popup.renderer.$size.scrollerWidth / popup.renderer.layerConfig.characterWidth;\n            var metaData = data.meta;\n            if (metaData.length + data.caption.length > maxW - 2) {\n                metaData = metaData.substr(0, maxW - data.caption.length - 3) + \"\\u2026\";\n            }\n            tokens.push({type: \"rightAlignedText\", value: metaData});\n        }\n        return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n\n    popup.session.$computeWidth = function() {\n        return this.screenWidth = 0;\n    };\n\n    popup.$blockScrolling = Infinity;\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n\n    popup.data = [];\n    popup.setData = function(list) {\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n    };\n    popup.getData = function(row) {\n        return popup.data[row];\n    };\n\n    popup.getRow = function() {\n        return selectionMarker.start.row;\n    };\n    popup.setRow = function(line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n        if (selectionMarker.start.row != line) {\n            popup.selection.clearSelection();\n            selectionMarker.start.row = selectionMarker.end.row = line || 0;\n            popup.session._emit(\"changeBackMarker\");\n            popup.moveCursorTo(line || 0, 0);\n            if (popup.isOpen)\n                popup._signal(\"select\");\n        }\n    };\n\n    popup.on(\"changeSelection\", function() {\n        if (popup.isOpen)\n            popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n    });\n\n    popup.hide = function() {\n        this.container.style.display = \"none\";\n        this._signal(\"hide\");\n        popup.isOpen = false;\n    };\n    popup.show = function(pos, lineHeight, topdownOnly) {\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var top = pos.top + this.$borderSize;\n        var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n        if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n            renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n            el.style.top = \"\";\n            el.style.bottom = screenHeight - top + \"px\";\n            popup.isTopdown = false;\n        } else {\n            top += lineHeight;\n            renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n            el.style.top = top + \"px\";\n            el.style.bottom = \"\";\n            popup.isTopdown = true;\n        }\n\n        el.style.display = \"\";\n        this.renderer.$textLayer.checkForSizeChanges();\n\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth)\n            left = screenWidth - el.offsetWidth;\n\n        el.style.left = left + \"px\";\n\n        this._signal(\"show\");\n        lastMouseEvent = null;\n        popup.isOpen = true;\n    };\n\n    popup.getTextLeftOffset = function() {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n\n    return popup;\n};\n\ndom.importCssString(\"\\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\\n    background-color: #CAD6FA;\\\n    z-index: 1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    border: 1px solid #abbffe;\\\n    margin-top: -1px;\\\n    background: rgba(233,233,253,0.4);\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    position: absolute;\\\n    z-index: 2;\\\n}\\\n.ace_editor.ace_autocomplete .ace_scroller {\\\n   background: none;\\\n   border: none;\\\n   box-shadow: none;\\\n}\\\n.ace_rightAlignedText {\\\n    color: gray;\\\n    display: inline-block;\\\n    position: absolute;\\\n    right: 4px;\\\n    text-align: right;\\\n    z-index: -1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\\n    color: #000;\\\n    text-shadow: 0 0 0.01em;\\\n}\\\n.ace_editor.ace_autocomplete {\\\n    width: 280px;\\\n    z-index: 200000;\\\n    background: #fbfbfb;\\\n    color: #444;\\\n    border: 1px lightgray solid;\\\n    position: fixed;\\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\\n    line-height: 1.4;\\\n}\");\n\nexports.AcePopup = AcePopup;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nexports.parForEach = function(array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function(result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\n\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\uFFFF]/;\n\nexports.retrievePrecedingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos-1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\n\nexports.retrieveFollowingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\n\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function(completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function(identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = acequire(\"./autocomplete/popup\").AcePopup;\nvar util = acequire(\"./autocomplete/util\");\nvar event = acequire(\"./lib/event\");\nvar lang = acequire(\"./lib/lang\");\nvar dom = acequire(\"./lib/dom\");\nvar snippetManager = acequire(\"./snippets\").snippetManager;\n\nvar Autocomplete = function() {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n\n    this.changeTimer = lang.delayedCall(function() {\n        this.updateCompletions(true);\n    }.bind(this));\n\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n};\n\n(function() {\n\n    this.$init = function() {\n        this.popup = new AcePopup(document.body || document.documentElement);\n        this.popup.on(\"click\", function(e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        return this.popup;\n    };\n\n    this.getPopup = function() {\n        return this.popup || this.$init();\n    };\n\n    this.openPopup = function(editor, prefix, keepPopupPosition) {\n        if (!this.popup)\n            this.$init();\n\n\tthis.popup.autoSelect = this.autoSelect;\n\n        this.popup.setData(this.completions.filtered);\n\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        \n        var renderer = editor.renderer;\n        this.popup.setRow(this.autoSelect ? 0 : -1);\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n\n            var lineHeight = renderer.layerConfig.lineHeight;\n\n            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n            pos.left -= this.popup.getTextLeftOffset();\n\n            var rect = editor.container.getBoundingClientRect();\n            pos.top += rect.top - renderer.layerConfig.offset;\n            pos.left += rect.left - editor.renderer.scrollLeft;\n            pos.left += renderer.gutterWidth;\n\n            this.popup.show(pos, lineHeight);\n        } else if (keepPopupPosition && !prefix) {\n            this.detach();\n        }\n    };\n\n    this.detach = function() {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n\n        this.gatherCompletionsId += 1;\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completions = this.base = null;\n    };\n\n    this.changeListener = function(e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n\n    this.blurListener = function(e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text\n        ) {\n            this.detach();\n        }\n    };\n\n    this.mousedownListener = function(e) {\n        this.detach();\n    };\n\n    this.mousewheelListener = function(e) {\n        this.detach();\n    };\n\n    this.goTo = function(where) {\n        var row = this.popup.getRow();\n        var max = this.popup.session.getLength() - 1;\n\n        switch(where) {\n            case \"up\": row = row <= 0 ? max : row - 1; break;\n            case \"down\": row = row >= max ? -1 : row + 1; break;\n            case \"start\": row = 0; break;\n            case \"end\": row = max; break;\n        }\n\n        this.popup.setRow(row);\n    };\n\n    this.insertMatch = function(data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(this.editor, data);\n        } else {\n            if (this.completions.filterText) {\n                var ranges = this.editor.selection.getAllRanges();\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= this.completions.filterText.length;\n                    this.editor.session.remove(range);\n                }\n            }\n            if (data.snippet)\n                snippetManager.insertSnippet(this.editor, data.snippet);\n            else\n                this.editor.execCommand(\"insertstring\", data.value || data);\n        }\n        this.detach();\n    };\n\n\n    this.commands = {\n        \"Up\": function(editor) { editor.completer.goTo(\"up\"); },\n        \"Down\": function(editor) { editor.completer.goTo(\"down\"); },\n        \"Ctrl-Up|Ctrl-Home\": function(editor) { editor.completer.goTo(\"start\"); },\n        \"Ctrl-Down|Ctrl-End\": function(editor) { editor.completer.goTo(\"end\"); },\n\n        \"Esc\": function(editor) { editor.completer.detach(); },\n        \"Return\": function(editor) { return editor.completer.insertMatch(); },\n        \"Shift-Return\": function(editor) { editor.completer.insertMatch(null, {deleteSuffix: true}); },\n        \"Tab\": function(editor) {\n            var result = editor.completer.insertMatch();\n            if (!result && !editor.tabstopManager)\n                editor.completer.goTo(\"down\");\n            else\n                return result;\n        },\n\n        \"PageUp\": function(editor) { editor.completer.popup.gotoPageUp(); },\n        \"PageDown\": function(editor) { editor.completer.popup.gotoPageDown(); }\n    };\n\n    this.gatherCompletions = function(editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n\n        var prefix = util.getCompletionPrefix(editor);\n\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n\n        var matches = [];\n        var total = editor.completers.length;\n        editor.completers.forEach(function(completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function(err, results) {\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n\n    this.showPopup = function(editor) {\n        if (this.editor)\n            this.detach();\n\n        this.activated = true;\n\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n\n        this.updateCompletions();\n    };\n\n    this.updateCompletions = function(keepPopupPosition) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({start: this.base, end: pos});\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n            && this.completions.filtered[0].value == prefix\n            && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        var _id = this.gatherCompletionsId;\n        this.gatherCompletions(this.editor, function(err, results) {\n            var detachIfFinished = function() {\n                if (!results.finished) return;\n                return this.detach();\n            }.bind(this);\n\n            var prefix = results.prefix;\n            var matches = results && results.matches;\n\n            if (!matches || !matches.length)\n                return detachIfFinished();\n            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)\n                return;\n\n            this.completions = new FilteredList(matches);\n\n            if (this.exactMatch)\n                this.completions.exactMatch = true;\n\n            this.completions.setFilter(prefix);\n            var filtered = this.completions.filtered;\n            if (!filtered.length)\n                return detachIfFinished();\n            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                return detachIfFinished();\n            if (this.autoInsert && filtered.length == 1 && results.finished)\n                return this.insertMatch(filtered[0]);\n\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n        }.bind(this));\n    };\n\n    this.cancelContextMenu = function() {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n\n    this.updateDocTooltip = function() {\n        var popup = this.popup;\n        var all = popup.data;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        this.editor.completers.some(function(completer) {\n            if (completer.getDocTooltip)\n                doc = completer.getDocTooltip(selected);\n            return doc;\n        });\n        if (!doc)\n            doc = selected;\n\n        if (typeof doc == \"string\")\n            doc = {docText: doc};\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n\n    this.showDocTooltip = function(item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n            this.tooltipNode.style.margin = 0;\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        }\n\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        } else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n\n        if (!tooltipNode.parentNode)\n            document.body.appendChild(tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n\n        if (window.innerWidth - rect.right < 320) {\n            tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n            tooltipNode.style.left = \"\";\n        } else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n        tooltipNode.style.display = \"block\";\n    };\n\n    this.hideDocTooltip = function() {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode) return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n\n    this.onTooltipClick = function(e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n\n}).call(Autocomplete.prototype);\n\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function(editor) {\n        if (!editor.completer)\n            editor.completer = new Autocomplete();\n        editor.completer.autoInsert = false;\n        editor.completer.autoSelect = true;\n        editor.completer.showPopup(editor);\n        editor.completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\n\nvar FilteredList = function(array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n};\n(function(){\n    this.setFilter = function(str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function(a, b) {\n            return b.exactMatch - a.exactMatch || b.score - a.score;\n        });\n        var prev = null;\n        matches = matches.filter(function(item){\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev) return false;\n            prev = caption;\n            return true;\n        });\n\n        this.filtered = matches;\n    };\n    this.filterCompletions = function(items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = item.value || item.caption || item.snippet;\n            if (!caption) continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }else{\n                for (var j = 0; j < needle.length; j++) {\n                    var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                    var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                    index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                    if (index < 0)\n                        continue loop;\n                    distance = index - lastIndex - 1;\n                    if (distance > 0) {\n                        if (lastIndex === -1)\n                            penalty += 10;\n                        penalty += distance;\n                    }\n                    matchMask = matchMask | (1 << index);\n                    lastIndex = index;\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n}).call(FilteredList.prototype);\n\nexports.Autocomplete = Autocomplete;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/autocomplete/text_completer\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n    var Range = acequire(\"../range\").Range;\n    \n    var splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\n\n    function getWordIndex(doc, pos) {\n        var textBefore = doc.getTextRange(Range.fromPoints({row: 0, column:0}, pos));\n        return textBefore.split(splitRegex).length - 1;\n    }\n    function wordDistance(doc, pos) {\n        var prefixPos = getWordIndex(doc, pos);\n        var words = doc.getValue().split(splitRegex);\n        var wordScores = Object.create(null);\n        \n        var currentWord = words[prefixPos];\n\n        words.forEach(function(word, idx) {\n            if (!word || word === currentWord) return;\n\n            var distance = Math.abs(prefixPos - idx);\n            var score = words.length - distance;\n            if (wordScores[word]) {\n                wordScores[word] = Math.max(score, wordScores[word]);\n            } else {\n                wordScores[word] = score;\n            }\n        });\n        return wordScores;\n    }\n\n    exports.getCompletions = function(editor, session, pos, prefix, callback) {\n        var wordScore = wordDistance(session, pos, prefix);\n        var wordList = Object.keys(wordScore);\n        callback(null, wordList.map(function(word) {\n            return {\n                caption: word,\n                value: word,\n                score: wordScore[word],\n                meta: \"local\"\n            };\n        }));\n    };\n});\n\nace.define(\"ace/ext/language_tools\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete\",\"ace/config\",\"ace/lib/lang\",\"ace/autocomplete/util\",\"ace/autocomplete/text_completer\",\"ace/editor\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar snippetManager = acequire(\"../snippets\").snippetManager;\nvar Autocomplete = acequire(\"../autocomplete\").Autocomplete;\nvar config = acequire(\"../config\");\nvar lang = acequire(\"../lib/lang\");\nvar util = acequire(\"../autocomplete/util\");\n\nvar textCompleter = acequire(\"../autocomplete/text_completer\");\nvar keyWordCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        if (session.$mode.completer) {\n            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n        }\n        var state = editor.session.getState(pos.row);\n        var completions = session.$mode.getCompletions(state, session, pos, prefix);\n        callback(null, completions);\n    }\n};\n\nvar snippetCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        var snippetMap = snippetManager.snippetMap;\n        var completions = [];\n        snippetManager.getActiveScopes(editor).forEach(function(scope) {\n            var snippets = snippetMap[scope] || [];\n            for (var i = snippets.length; i--;) {\n                var s = snippets[i];\n                var caption = s.name || s.tabTrigger;\n                if (!caption)\n                    continue;\n                completions.push({\n                    caption: caption,\n                    snippet: s.content,\n                    meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                    type: \"snippet\"\n                });\n            }\n        }, this);\n        callback(null, completions);\n    },\n    getDocTooltip: function(item) {\n        if (item.type == \"snippet\" && !item.docHTML) {\n            item.docHTML = [\n                \"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\",\n                lang.escapeHTML(item.snippet)\n            ].join(\"\");\n        }\n    }\n};\n\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nexports.setCompleters = function(val) {\n    completers.length = 0;\n    if (val) completers.push.apply(completers, val);\n};\nexports.addCompleter = function(completer) {\n    completers.push(completer);\n};\nexports.textCompleter = textCompleter;\nexports.keyWordCompleter = keyWordCompleter;\nexports.snippetCompleter = snippetCompleter;\n\nvar expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function(editor) {\n        return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n};\n\nvar onChangeMode = function(e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n};\n\nvar loadSnippetsForMode = function(mode) {\n    var id = mode.$id;\n    if (!snippetManager.files)\n        snippetManager.files = {};\n    loadSnippetFile(id);\n    if (mode.modes)\n        mode.modes.forEach(loadSnippetsForMode);\n};\n\nvar loadSnippetFile = function(id) {\n    if (!id || snippetManager.files[id])\n        return;\n    var snippetFilePath = id.replace(\"mode\", \"snippets\");\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function(m) {\n        if (m) {\n            snippetManager.files[id] = m;\n            if (!m.snippets && m.snippetText)\n                m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n            snippetManager.register(m.snippets || [], m.scope);\n            if (m.includeScopes) {\n                snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n                m.includeScopes.forEach(function(x) {\n                    loadSnippetFile(\"ace/mode/\" + x);\n                });\n            }\n        }\n    });\n};\n\nvar doLiveAutocomplete = function(e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n        if (hasCompleter && !util.getCompletionPrefix(editor))\n            editor.completer.detach();\n    }\n    else if (e.command.name === \"insertstring\") {\n        var prefix = util.getCompletionPrefix(editor);\n        if (prefix && !hasCompleter) {\n            if (!editor.completer) {\n                editor.completer = new Autocomplete();\n            }\n            editor.completer.autoInsert = false;\n            editor.completer.showPopup(editor);\n        }\n    }\n};\n\nvar Editor = acequire(\"../editor\").Editor;\nacequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.addCommand(Autocomplete.startCommand);\n            } else {\n                this.commands.removeCommand(Autocomplete.startCommand);\n            }\n        },\n        value: false\n    },\n    enableLiveAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.on('afterExec', doLiveAutocomplete);\n            } else {\n                this.commands.removeListener('afterExec', doLiveAutocomplete);\n            }\n        },\n        value: false\n    },\n    enableSnippets: {\n        set: function(val) {\n            if (val) {\n                this.commands.addCommand(expandSnippet);\n                this.on(\"changeMode\", onChangeMode);\n                onChangeMode(null, this);\n            } else {\n                this.commands.removeCommand(expandSnippet);\n                this.off(\"changeMode\", onChangeMode);\n            }\n        },\n        value: false\n    }\n});\n});\n                (function() {\n                    ace.acequire([\"ace/ext/language_tools\"], function() {});\n                })();\n            ","\nexport class SimpleQueryRules extends window.ace.acequire(\"ace/mode/text_highlight_rules\").TextHighlightRules {\n\tconstructor() {\n\t\tsuper();\n\t\tvar operators = (\"is|like|contains|startwith|equal|and|or\");\n    \n        var builtinConstants = (\"true|false\");\n        \n        var keywordMapper = this.createKeywordMapper({\n            \"keyword.operator\": operators,\n            \"constant.language\": builtinConstants,\n        }, \"identifier\", true);\n    \n        this.$rules = {\n            \"start\" : [ {\n                token : \"comment\",\n                regex : \"--.*$\"\n            },  {\n                token : \"comment\",\n                start : \"/\\\\*\",\n                end : \"\\\\*/\"\n            }, {\n                token : \"string\",\n                regex : '\".*?\"'\n            }, {\n                token : \"string\",\n                regex : \"'.*?'\"\n            }, {\n                token : \"string\",\n                regex : \"`.*?`\"\n            }, {\n                token : \"constant.numeric\",\n                regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n            }, {\n                token : keywordMapper,\n                regex : \"[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"\n            }, {\n                token : \"keyword.operator\",\n                regex : \"\\\\&|>|>=|<|<=|=|#\"\n            }, {\n                token : \"paren.lparen\",\n                regex : \"[\\\\(]\"\n            }, {\n                token : \"paren.rparen\",\n                regex : \"[\\\\)]\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+\"\n            } ]\n        };\n        this.normalizeRules();\n\t}\n}\n\nexport default class SimpleQueryMode extends window.ace.acequire('ace/mode/text').Mode {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.HighlightRules = SimpleQueryRules;\n\t}\n}\n\n","import React from 'react';\nimport { func, string, arrayOf, shape } from 'prop-types';\nimport * as PEG from 'pegjs';\nimport grammar from './gramma.pegjs';\nimport 'brace';\nimport 'brace/theme/tomorrow';\nimport \"brace/snippets/text\";\nimport 'brace/ext/language_tools';\nimport SimpleQueryMode from './simpleQuery.mode';\n\nconst baseSuggestion = [\n];\n\nconst pegparser = PEG.generate(grammar);\nclass QueryBox extends React.PureComponent {\n    static propTypes = {\n        id: string,\n        className: string,\n        onSearch: func.isRequired,\n        queryText: string,\n        words: arrayOf(shape({\n            word: string.isRequired,\n            desc: string.isRequired\n        }))\n    }\n\n    constructor(props) {\n        super(props);\n        this.aceEditor = React.createRef();\n    }\n\n    customCompleter = {\n        getCompletions: (editor, session, pos, prefix, callback) =>{\n            callback(null, this.suggesions);\n        }\n    }\n\n    render() {\n        const inputClassName = this.props.className || 'flex-fill bg-white border py-2';\n        return (\n            <div className={inputClassName} >\n                <div ref={this.aceEditor} id={this.editorId()}></div>\n            </div>\n        );\n    }\n\n    editorId = () =>{\n        if(!this.__editorId) this.__editorId = this.props.id || Date.now().toString(16);\n        return this.__editorId;\n    }\n\n    componentDidMount() {\n        this.__editor = window.ace.edit(this.aceEditor.current);\n        this.__editor.$blockScrolling = true;\n        let langTools = window.ace.acequire('ace/ext/language_tools');\n        langTools.addCompleter(this.customCompleter);\n\n        this.suggesions = baseSuggestion.concat((this.props.words || []).map(({ word, desc }) => ({\n            caption: word,\n            value: word,\n            meta: desc\n        })));\n\n        this.editor().setOptions({\n            maxLines: 1,\n            autoScrollEditorIntoView: true,\n            enableBasicAutocompletion: this.customCompleter,\n            enableLiveAutocompletion: true,\n            enableSnippets: true,\n            highlightActiveLine: false,\n            printMargin: false,\n            showGutter: false,\n            theme: \"ace/theme/tomorrow\",\n            fontSize: 13\n        });\n\n        this.editor().commands.addCommand({\n            name: 'submit-query',\n            bindKey: {\n                mac: \"Enter\",\n                win: \"Enter\"\n            },\n            exec: editor => this.hanleQueryChange(editor.getSession().getValue())\n        });\n\n        this.editor().getSession().setMode(new SimpleQueryMode());\n\n        this.props.queryText && this.editor().getSession().setValue(this.props.queryText);\n    }\n\n    editor = () => this.__editor;\n\n    hanleQueryChange = val => {\n        let err = null;\n        let parsed = null;\n        let freetext = '';\n        try {\n            freetext = val.trim();\n            parsed = freetext ? pegparser.parse(freetext) : {};\n        }\n        catch (e) {\n            err = e;\n        } finally {\n            this.props.onSearch(err, parsed, freetext);\n        }\n    }\n}\n\nexport default QueryBox;\n","export default \"// Grammar: API Query Language (aql)\\n// =================================\\n\\n{\\n\\tfunction parseAnd(res, term){\\n    \\treturn Object.assign(res, term);\\n    }\\n    \\n    function parseOr(res, term){\\n    \\treturn res.$or.push(term)\\n    }\\n    \\n    function parselogicExpr (res, op ,term) {\\n    \\treturn op === '$and' ? parseAnd(res, term) : parseOr(res, term);\\n    }\\n    \\n\\tfunction ParseConjExpr(head, tail){\\n    \\tif(!tail.length) return head;\\n        var result = tail.reduce(function(res, element, ix){\\n        \\tvar op = element[1];\\n            var term = element[3];\\n    \\n        \\tif(ix === 0) parselogicExpr(res, op, head);\\n            parselogicExpr(res, op, term);\\n            return res;\\n        },{$or:[]});\\n        \\n        if(!result.$or.length) delete result.$or;\\n        \\n        return result;\\n    }\\n}\\n\\nSimpleQuery\\t\\t= head:IrlExpr tail:(_ LogicOperators _ IrlExpr)* {return ParseConjExpr(head, tail)}\\nIrlExpr\\t\\t\\t= ConjExpr / GroupExpr\\nGroupExpr\\t\\t= LP _ exprs:ConjExpr _ RP {return exprs}\\nConjExpr\\t\\t= head:CompExpr tail:(_ LogicOperators _ CompExpr)* {return ParseConjExpr(head, tail)}\\nCompExpr \\t\\t= left:Identifier _ op:CompOperators _ right:Expr { return {[left]: {[op]: right}} }\\n\\nLogicOperators \\t= logicOp:(AndOp / And / OrOp / Or) {return logicOp}\\nAndOp \\t\\t\\t= \\\"&\\\" {return \\\"$and\\\"}\\nAnd \\t\\t\\t= \\\"and\\\" {return \\\"$and\\\"}\\n\\nOrOp\\t\\t\\t= \\\"|\\\" {return \\\"$or\\\" }\\nOr\\t\\t\\t    = \\\"or\\\" {return \\\"$or\\\" }\\n\\nLP\\t\\t\\t\\t= \\\"(\\\"\\nRP\\t\\t\\t\\t= \\\")\\\"\\n    \\nCompOperators \\t= EqualOp / GreaterThanOrEqualOp / GreaterThanOp / LessThanOrEqualOp / LessThanOp / Contains / Like / StartWith / Is /\\n                Equal / GreaterThanOrEqual / GreaterThan / LessThanOrEqual / LessThan\\nEqualOp\\t\\t\\t\\t    = \\\"=\\\"\\t                {return \\\"$eq\\\"}\\nEqual\\t\\t\\t\\t    = \\\"equal\\\"\\t            {return \\\"$eq\\\"}\\n\\nGreaterThanOp \\t\\t    = \\\">\\\"\\t                {return \\\"$gt\\\"}\\nGreaterThan\\t\\t        = \\\"greater than\\\"\\t    {return \\\"$gt\\\"}\\n\\nGreaterThanOrEqualOp \\t= \\\">=\\\"\\t                        {return \\\"$gte\\\"}\\nGreaterThanOrEqual \\t    = \\\"greater than or equal\\\"\\t    {return \\\"$gte\\\"}\\n\\nLessThanOp \\t\\t\\t    = \\\"<\\\"\\t                {return \\\"$lt\\\"} \\nLessThan \\t\\t\\t    = \\\"less than\\\"\\t        {return \\\"$lt\\\"} \\n\\nLessThanOrEqualOp \\t    = \\\"<=\\\"\\t                {return \\\"$lte\\\"} \\nLessThanOrEqual \\t    = \\\"less than or equal\\\"\\t{return \\\"$lte\\\"} \\n\\nStartWith \\t\\t        = \\\"startwith\\\"\\t{return \\\"$startWith\\\"} \\nContains                = \\\"contains\\\"\\t{return \\\"$contains\\\"} \\nLike \\t\\t\\t        = \\\"like\\\"        {return \\\"$like\\\"} \\nIs \\t\\t\\t            = \\\"is\\\"          {return \\\"$is\\\"} \\n\\n\\nExpr = Float / Integer / Identifier / String\\n\\nIdentifier \\t= [a-zA-Z0-9_]+ {return text()}\\n\\nNumber \\t= Float / Integer\\nInteger = n:[0-9]+ {return parseInt(n.join(\\\"\\\"));}\\nFloat\\t= left:Integer \\\".\\\" right:Integer { return parseFloat([left.toString(), right.toString()].join(\\\".\\\"))}\\n\\nString \\t= \\\"'\\\" str:ValidStringChar* \\\"'\\\" {return str.join(\\\"\\\")}\\nValidStringChar\\t= !\\\"'\\\" c:. { return c;}\\n\\n_ \\\"whitespace\\\"\\n  = (\\\" \\\"\\n  / \\\"\\\\t\\\"\\n  / \\\"\\\\v\\\"\\n  / \\\"\\\\f\\\")*\""],"sourceRoot":""}